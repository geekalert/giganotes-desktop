<mat-list [ngStyle]="{'margin-left': level + 'px'}">
  <div *ngFor="let item of items">
    <mat-list-item [class.list-item-selected]="item.isSelected">
      <mat-icon matListIcon>{{item.iconName}}</mat-icon>
      <span (click)="onSelectedItemClick(item)">{{item.name}}</span>
      <mat-icon *ngIf="item.subItems?.length > 0" (click)="item.expanded = !item.expanded">{{item.expanded ?
        'expand_less' : 'expand_more'}}</mat-icon>
      <span fxFlex></span>

      <mat-menu #appMenu="matMenu">
        <button mat-menu-item (click)="onAddFolder()">Add folder</button>
        <button mat-menu-item>Rename</button>
        <button mat-menu-item>Help</button>
      </mat-menu>

      <button mat-icon-button [matMenuTriggerFor]="appMenu" [style.display]=" !item.showMenuButton || !item.isSelected ?'none':'inherit'">
        <mat-icon>more_hor</mat-icon>
      </button>
    </mat-list-item>
    <app-navigation-tree [items]="item.subItems" [level]="level + 10" *ngIf="item.expanded">
    </app-navigation-tree>
  </div>

</mat-list>
