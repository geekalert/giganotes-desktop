<div>
  <button mat-button (click)="onNewNote()">
    <mat-icon>add</mat-icon>New note
  </button>
  <button *ngIf="mode != 'fav'" mat-button (click)="onAddToFavorites()">
    <mat-icon>favorite</mat-icon>Add to favorites
  </button>
  <button mat-button (click)="onDoSync()" *ngIf="!authService.isOffline">
    <mat-icon [ngClass]="{'fa-spin': isSyncing()}">sync</mat-icon>Syncronize
  </button>
</div>



<div fxLayout="row" style="height:100%;">
  <div fxFlex="35" resizable [sizerBarPosition]="2">
    <div fxLayout="column" style="height:100%;">
      <mat-form-field color="primary" floatLabel="never" style="width: 100%;">
        <input #searchHelpPanelContainer matInput [(ngModel)]="searchFilter" #searchInput type="search" placeholder="Search notes..."
          (keyup)="searchNotesKeyUp($event);">
        <button mat-button matSuffix mat-icon-button aria-label="Search notes" (click)="searchNotes();">
          <mat-icon>search</mat-icon>
        </button>
      </mat-form-field>

      <div style="overflow: auto; height:100%;">
        <mat-nav-list>
          <mat-list-item *ngFor="let note of notes" (click)="onNoteClick(note)" [class.list-item-selected]="this.selectedNoteInfo == note">
            <mat-icon matListIcon class="avatar">description</mat-icon>
            <span *ngIf="note.title.length > 0">{{note.title}}</span>
            <span *ngIf="note.title.length == 0">Untitled note</span>
          </mat-list-item>
        </mat-nav-list>
      </div>
    </div>
  </div>

  <div fxFlex="65" style="margin-left: 1px">
    <div fxLayout="column" style="height:100%; width:100%">
      <div fxLayout="row">
        <input #noteTitleInput="matInput" matInput placeholder="Enter note title" [(ngModel)]="selectedNote.title"
          (keyup)="onNoteTitleKeyUp($event);" (focusout)="onNoteNameInputFocusOut()">

        <button mat-button (click)="onSaveNote()">
          <mat-icon>save</mat-icon>Save
        </button>

        <button mat-button (click)="onDeleteNote()">
          <mat-icon>delete</mat-icon>Delete
        </button>

      </div>
      <editor [init]="editorSetup" fxLayout="column" style="height:100%; width:100%" [(ngModel)]="selectedNote.text"
        (onClick)="handleEditorClick($event)"></editor>
    </div>
  </div>
</div>
